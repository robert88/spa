<style>@charset "UTF-8"; /*../../mb/cash_out/verify_email.css*/ .verify-email .btn-m { }</style>
<article class="app-wrap co-wrap" id="verifyEmailVue"> <div class="co-topBar"> <a class="btn btn-return" href="#/mb/cash_out/cashoutExchange"><i class="i-return"></i></a> <p class="tit">Cash Out</p> </div> <div class="co-container verify-email"> <div class="cashOut-upper"> <figure> <i class="i-message-l"></i> <figcaption>Email Code Verification</figcaption> </figure> </div> <div class="cashOut-bottom"> <div class="verify-description"> <p>A verification code will be sent to your registered email account. Please check your email box and get the code to verify within 60 mins.</p> </div> <div class="form"> <form> <dl> <dd class="row-getCode"><input :class="!email?'input-txt J-email-ipt':'input-txt input-disable J-email-ipt'" readonly="isReadOnly" type="text" v-bind:value="email" placeholder="Enter Email"> <a class="btn btn-primary btn-m J-send-code btn-disable" v-show="countdownTime>0&&countdownTime<=120">{{countdownTime}}s</a>  <a class="btn btn-primary btn-m J-send-code" v-show="(!countdownTime||countdownTime<=0)&&sendEmailTime<10">Get Code</a> <a class="btn btn-primary btn-m J-send-code btn-disable" v-show="(!countdownTime||countdownTime<=0)&&(sendEmailTime>=10)">Get Code</a> </dd>   <dd> <input class="input-txt J-email-code-ipt" type="text" placeholder="Enter Code"> <p class="popTips tips-error J-data-Msg" style="display:none;">Sorry, you have reached the verification limit. Please try again tomorrow.</p> </dd> <dd class="form-ft-btn"><a class="btn btn-primary btn-main J-continue btn-disable">Continue</a></dd> </dl> </form> </div> </div> <div class="verify-contact">For any account issues, please contact <a class="link" href="mailto:accounts@livestar.com">accounts@livestar.com</a></div> </div> <div class="tipsHeader J-sys-Msg animate-ease" style="display:none;"> Invalid code </div> </article>
<script>;(function(){ var innerModule = {};var innerRequire = function(index){ return innerModule[index]; }; /*../../mb/cash_out/verify_email.js*/(function(){$(function(){function f(e,t){u.show().html(t),e&&e.addClass("input-error")}function l(e){u.hide(),e.removeClass("input-error")}function c(e){return/^.*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/i.test(e)}function h(){setTimeout(function(){n.countdownTime--,n.countdownTime>0&&h()},1e3)}function d(e,t){a.show().html(e),$.delay(3e3,function(){typeof t=="function"&&t(),a.hide()})}var e=120,t=e-Math.floor((+(new Date)-$.cookie("emailCountdownTime")||0)/1e3);t<0&&(t=0);var n=new Vue({el:"#verifyEmailVue",data:{email:window.PAGE.data.email,sendEmailTime:window.PAGE.data.sendEmailTime*1||0,countdownTime:t||0}}),r=$("#verifyEmailVue"),i=r.find(".J-continue"),s=r.find(".J-email-ipt"),o=r.find(".J-email-code-ipt"),u=r.find(".J-data-Msg"),a=r.find(".J-sys-Msg");n.countdownTime>0&&h(),window.PAGE.data.emailVeried||s.removeAttr("readonly");var p=!1;o.on("focus",function(){l(o)}),s.on("focus",function(){l(s)}),r.on("click",".J-send-code",function(){if(p)return;if(n.countdownTime>0)return;var t;window.PAGE.DEBUG?t="/pc/public/data/watch.json":t="/cashout/?ac={0}".tpl("getEmailCode");var r=s.val().trim();l(s),l(o);if(!c(r)){f(s,"Please enter a valid email address.");return}if(n.sendEmailTime>=10){f(null,"Sorry, you have reached the verification limit. Please try again tomorrow.");return}n.countdownTime=e,$.cookie("emailCountdownTime",+(new Date)),h(),LS.ajax({url:t,limitTime:1,data:{email:r},success:function(e){p=!0,d("Verify code has been sent",function(){p=!1}),window.PAGE.data.sendEmailTime++,n.sendEmailTime=window.PAGE.data.sendEmailTime,n.email=r},error:function(e){n.countdownTime=0,$.cookie("emailCountdownTime",null),p=!0,a.show().html(e),$.delay(3e3,function(){p=!1,a.hide()})}})}),i.click(function(){var e;window.PAGE.DEBUG?e="/pc/public/data/watch.json":e="/cashout/?ac={0}".tpl("checkEmailCode");if(p)return;var t=s.val().trim(),r=o.val().trim();l(s),l(o);if(!c(t)){f(s,"Please enter a valid email address.");return}if(!r){f(o,"Please enter email code.");return}LS.ajax({url:e,limitTime:1,data:{code:r},success:function(e){s.prop("readonly",!0),window.PAGE.data.emailVeried=!0,window.PAGE.data.email=n.email,window.PAGE.loading(),window.location.hash="#/mb/cash_out/verify_phone"},error:function(e){f(o,""),p=!0,d(e,function(){p=!1})}})}),o.on("keyup",function(){var e=$(this);e.val().trim()!=""?i.removeClass("btn-disable"):i.addClass("btn-disable")})})})()})();</script>